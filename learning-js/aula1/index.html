<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS training</title>
</head>
<body>
    <script>
        let maquina;
        let jogador = '';
        let placar = JSON.parse(localStorage.getItem('placar'));

        function escolhaMaquina(){
            const num = Math.random();
            if(num<=0.33){
                maquina = 'pedra';
            }
            else if(num>0.33 && num<=0.66){
                maquina = 'papel';
            }
            else{
                maquina = 'tesoura';
            }
        }

        function jogo(jogador){
            if(jogador === 'pedra'){
                if(maquina === 'tesoura'){
                    placar.vitoria++;

                    alert(`voce : pedra\nmaquina : ${maquina} \nvoce ganhou\n\nvitoria : ${placar.vitoria} derrota : ${placar.derrota} empate : ${placar.empates}`)

                }
                if(maquina === 'pedra'){
                    placar.empates++;

                    alert('voce : pedra\nmaquina : '+ maquina + '\nvoce empatou'+`\n\nvitoria : ${placar.vitoria} derrota : ${placar.derrota} empate : ${placar.empates}`);
                }
                if(maquina === 'papel'){
                    placar.derrota++;

                    alert('voce : pedra\nmaquina : '+ maquina + '\nvoce perdeu'+`\n\nvitoria : ${placar.vitoria} derrota : ${placar.derrota} empate : ${placar.empates}`);
                }
            }
            else if(jogador === 'papel'){
                if(maquina === 'pedra'){
                    placar.vitoria++;

                    alert('voce : papel\nmaquina : '+ maquina + '\nvoce ganhou'+`\n\nvitoria : ${placar.vitoria} derrota : ${placar.derrota} empate : ${placar.empates}`);
                }
                if(maquina === 'papel'){
                    placar.empates++;

                    alert('voce : papel\nmaquina : '+ maquina + '\nvoce empatou'+`\n\nvitoria : ${placar.vitoria} derrota : ${placar.derrota} empate : ${placar.empates}`);
                }
                if(maquina === 'tesoura'){
                    placar.derrota++;

                    alert('voce : papel\nmaquina : '+ maquina + '\nvoce perdeu'+`\n\nvitoria : ${placar.vitoria} derrota : ${placar.derrota} empate : ${placar.empates}`);
                }
            }
            else{
                 if(maquina === 'papel'){
                    placar.vitoria++;

                    alert(`voce : ${jogador}\nmaquina : ${maquina}\nvoce venceu`+`\n\nvitoria : ${placar.vitoria} derrota : ${placar.derrota} empate : ${placar.empates}`);
                }
                if(maquina === 'tesoura'){
                    placar.empates++;

                    alert(`voce : ${jogador}\nmaquina : ${maquina}\nvoce empatou`+`\n\nvitoria : ${placar.vitoria} derrota : ${placar.derrota} empate : ${placar.empates}`);
                }
                if(maquina === 'pedra'){
                    placar.derrota++;
                    alert(`voce : ${jogador}\nmaquina : ${maquina}\nvoce perdeu`+`\n\nvitoria : ${placar.vitoria} derrota : ${placar.derrota} empate : ${placar.empates}`);
                }
            }

            localStorage.setItem('placar', JSON.stringify(placar));

        }

        function reset(){
            placar.vitoria=0;
            placar.derrota=0;
            placar.empates=0;

            localStorage.setItem('placar', JSON.stringify(placar));
        }

    </script>

    <button onclick="
        escolhaMaquina();
        jogo('pedra');
    ">pedra</button>

    <button onclick="
        escolhaMaquina();
        jogo('papel');
    ">papel</button>

    <button onclick="
        escolhaMaquina();
        jogo('tesoura');
    ">tesoura</button>

    <button onclick="
        reset();
    ">reset</button>

</body>
</html>